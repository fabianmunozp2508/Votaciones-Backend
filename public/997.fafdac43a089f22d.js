"use strict";(self.webpackChunkfmunozpuello=self.webpackChunkfmunozpuello||[]).push([[997],{6997:(V,x,d)=>{d.r(x),d.d(x,{ChildRoutesModule:()=>X});var g=d(1022),_=d(4004),A=d(2340),t=d(1223),T=d(520);const p=A.N.base_url;let Z=(()=>{class r{constructor(e){this.http=e,this.fotos=[]}get token(){return localStorage.getItem("token")||""}get headers(){return{headers:{"x-token":this.token}}}get role(){return this.usuario.role}get uid(){return this.usuario.uid||""}cargarImagenes(){return this.http.get(`${p}/social`,this.headers).pipe((0,_.U)(o=>o.image))}post(e){return this.http.post(`${p}/social/imagenes`,e,this.headers)}subirpost(e){return this.http.post(`${p}/social`,e,this.headers)}cargarpostId(){return this.http.get(`${p}/social/imagenes/usuario/`,this.headers).pipe((0,_.U)(o=>o.image))}borrarfoto(e){return this.http.delete(`${p}/social/imagenes/${e}`,this.headers)}actualizarfoto(e,o){return this.http.put(`${p}/social/imagenes/usuario${e}`,{publicado:o},this.headers)}cargarpostById(e){return this.http.get(`${p}/social/imagenes/usuario/${e}`,this.headers).pipe((0,_.U)(n=>n.image))}like(e){return this.http.post(`${p}/social/imagenes/like/${e}`,{uid:e},this.headers)}cargarvotes(e){return this.http.post(`${p}/social/imagenes/usuario/voto/${e}`,{uid:e},this.headers)}}return r.\u0275fac=function(e){return new(e||r)(t.LFG(T.eN))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var f=d(8737),U=d(5226),u=d.n(U),s=d(2382),l=d(9808);function w(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"button",25),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit;return t.oxw().vote(n._id)})("click",function(){t.CHM(e);const n=t.oxw(2);return n.votar(n.usuario)}),t._uU(1,"Votar"),t.qZA()}}function I(r,i){1&r&&(t.TgZ(0,"p",26),t._uU(1,"Usted ya ha votado"),t.qZA())}function O(r,i){if(1&r&&(t.TgZ(0,"div"),t.TgZ(1,"div",9),t.TgZ(2,"div",10),t._UZ(3,"img",11),t.qZA(),t.TgZ(4,"div",12),t.TgZ(5,"div",13),t._UZ(6,"img",14),t.TgZ(7,"span"),t._uU(8),t.ALo(9,"date"),t.qZA(),t.qZA(),t.TgZ(10,"div",15),t._uU(11),t.qZA(),t.TgZ(12,"div",16),t._uU(13),t.qZA(),t.TgZ(14,"div",6),t.TgZ(15,"div",17),t._UZ(16,"div",18),t.TgZ(17,"div",18),t.TgZ(18,"div"),t._uU(19),t.TgZ(20,"i",19),t._uU(21,"pan_tool"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(22,"form",20),t._UZ(23,"input",21),t.TgZ(24,"div",22),t.YNc(25,w,2,0,"button",23),t.YNc(26,I,2,0,"p",24),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&r){const e=i.$implicit,o=t.oxw();t.xp6(8),t.Oqu(t.lcZ(9,7,e.timestamp)),t.xp6(3),t.Oqu(e.usuario.nombre),t.xp6(2),t.Oqu(e.title),t.xp6(6),t.hij("",e.vote," "),t.xp6(3),t.Q6J("formGroup",o.ImagenForm),t.xp6(3),t.Q6J("ngIf",!o.voto),t.xp6(1),t.Q6J("ngIf",o.voto)}}let F=(()=>{class r{constructor(e,o,n,a){this.usuarioService=e,this.fotoServices=o,this.fb=n,this.router=a,this.myDate=new Date,this.voto=!1,this.cargando=!0,this.cantidadPost=!0,this.solo2=!0,this.archivos=[],this.Image2=[],this.usuario=e.usuario}ngOnInit(){this.ImagenForm=this.fb.group({voto:["true"]}),this.ImagenesUser(),this.sinvoto()}ImagenesUser(){this.cargando=!0,this.cantidadPost=!0,this.fotoServices.cargarImagenes().subscribe(e=>{0==e.length?this.cantidadPost=!1:e.length>=2&&(this.solo2=!1),console.log(e),this.cargando=!1,this.Image2=e})}like(e){this.fotoServices.like(e).subscribe(o=>{u().fire("Like")})}vote(e){const o=this.usuario.voto;this.fotoServices.cargarvotes(e).subscribe(n=>{"true"==o?u().fire({icon:"success",title:"Gracias por su vote",showConfirmButton:!1}):u().fire({title:"Usted ya ha votado",showClass:{popup:"animate__animated animate__fadeInDown"},hideClass:{popup:"animate__animated animate__fadeOutUp"}})})}anularvotos(e){this.usuarioService.actualizarVoto(e).subscribe(o=>{})}sinvoto(){"true"===this.usuario.voto?(u().fire({title:"Usted ya ha votado",showClass:{popup:"animate__animated animate__fadeInDown"},hideClass:{popup:"animate__animated animate__fadeOutUp"}}),this.voto=!0):console.log("puedes votar")}votar(e){this.usuarioService.cargarVoto(e).subscribe(o=>{console.log(o)})}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(f.i),t.Y36(Z),t.Y36(s.qu),t.Y36(g.F0))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-dashboard"]],decls:12,vars:1,consts:[[1,"pe-lg-3","mb-7"],[1,"display-3","text-white","mb-3","mb-md-5"],[1,"text-danger"],["data-hs-typed-options",'{\n                "strings": ["team.", "startup.", "business."],\n                "typeSpeed": 90,\n                "loop": true,\n                "backSpeed": 30,\n                "backDelay": 2500\n              }',1,"js-typedjs","text-center"],[1,"text-center","title"],[1,"lead","text-white-70","text-center","contenido"],[1,"container"],[1,"card-gallery"],[4,"ngFor","ngForOf"],[1,"card"],[1,"card-img"],["src","https://picsum.photos/420/420","alt",""],[1,"card-content"],[1,"author"],["src","https://picsum.photos/50/50","alt","",1,"avatar"],[1,"card-title"],[1,"card-text"],[1,"row"],[1,"col"],[1,"material-icons"],[3,"formGroup"],["type","text","formControlName","voto","value","true",1,"nomostrar"],[1,"d-grid","gap-2"],["class","btn btn-primary m-4","type","button",3,"click",4,"ngIf"],["class","text-danger","type","button",4,"ngIf"],["type","button",1,"btn","btn-primary","m-4",3,"click"],["type","button",1,"text-danger"]],template:function(e,o){1&e&&(t.TgZ(0,"div"),t.TgZ(1,"div",0),t.TgZ(2,"h1",1),t.TgZ(3,"span",2),t.TgZ(4,"span",3),t.TgZ(5,"p",4),t._uU(6,"Galeria de imagenes seleccionadas."),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(7,"p",5),t._uU(8,"Imagenes que han sido seleccionadas para el concurso."),t.qZA(),t.qZA(),t.TgZ(9,"div",6),t.TgZ(10,"div",7),t.YNc(11,O,27,9,"div",8),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(11),t.Q6J("ngForOf",o.Image2))},directives:[l.sg,s._Y,s.JL,s.sg,s.Fj,s.JJ,s.u,l.O5],pipes:[l.uU],styles:[".title[_ngcontent-%COMP%]{font-size:50px}.container[_ngcontent-%COMP%]{width:100%;max-width:1600px;margin:0 auto;margin-bottom:1rem;padding:.5em}.card-gallery[_ngcontent-%COMP%]{justify-content:center;display:grid;grid-template-columns:repeat(auto-fit,minmax(365px,365px));grid-row-gap:5rem;grid-column-gap:1rem}.card[_ngcontent-%COMP%]{position:relative;display:inline-block;border-radius:6px;color:#000000de;background-color:#fff;box-shadow:0 2px 2px #00000024,0 3px 1px -2px #0003,0 1px 5px #0000001f}.card-img[_ngcontent-%COMP%]{position:relative;background-color:orange;height:60%;overflow:hidden;margin-left:15px;margin-right:15px;border-radius:6px;box-shadow:0 16px 38px -12px #0000008f,0 4px 25px #0000001f,0 8px 10px -5px #0003}.card-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;width:100%;max-width:100%}.card-content[_ngcontent-%COMP%]{padding:15px 35px;font-family:Lucida Sans,sans-serif}.card-title[_ngcontent-%COMP%]{font-family:Lucida Sans,sans-serif;font-size:.9em;text-transform:uppercase;font-weight:700;padding-top:10px;padding-bottom:10px}.card-text[_ngcontent-%COMP%]{color:#161817}.footer[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;margin-top:-2rem;font-size:12px;color:gray}.author[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.avatar[_ngcontent-%COMP%]{width:30px;height:30px;overflow:hidden;border-radius:50%;margin-right:5px}.nomostrar[_ngcontent-%COMP%]{visibility:hidden;display:block;display:none}"]}),r})(),S=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-contact"]],decls:2,vars:0,template:function(e,o){1&e&&(t.TgZ(0,"p"),t._uU(1,"contact works!"),t.qZA())},styles:[""]}),r})();function k(r,i){1&r&&(t.TgZ(0,"span",21),t._UZ(1,"i",22),t._uU(2,"\xa0Cargar Fotograf\xedas"),t.qZA())}function P(r,i){1&r&&(t.TgZ(0,"p",23),t._uU(1," Limite de "),t.TgZ(2,"em"),t._uU(3,"Fotografia"),t.qZA(),t._uU(4," alcanzado."),t.qZA())}function M(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"div",24),t.TgZ(1,"div",25),t._UZ(2,"img",26),t.TgZ(3,"div",27),t.TgZ(4,"h5",28),t._uU(5),t.qZA(),t.TgZ(6,"p",29),t._uU(7),t.qZA(),t.TgZ(8,"button",30),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw().borrarFoto(a._id)}),t._uU(9," Borrar Imagen "),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&r){const e=i.$implicit;t.xp6(2),t.MGl("src","../assets/uploads/post/",e.filename,"",t.LSH),t.xp6(3),t.Oqu(e.title),t.xp6(2),t.Oqu(e.description)}}let B=(()=>{class r{constructor(e,o,n){this.usuarioService=e,this.fotoServices=o,this.router=n,this.cargando=!0,this.cantidadPost=!0,this.solo2=!0,this.Image2=[],this.usuario=e.usuario}ngOnInit(){this.ImagenesUser()}ImagenesUser(){this.cargando=!0,this.cantidadPost=!0,this.fotoServices.cargarpostId().subscribe(e=>{0==e.length?this.cantidadPost=!1:e.length>=2&&(this.solo2=!1),this.cargando=!1,this.Image2=e})}borrarFoto(e){u().fire({title:"\xbfBorrar Foto?",text:`Esta a punto de borrar a ${e}`,icon:"question",showCancelButton:!0,confirmButtonText:"Si, borrarlo"}).then(o=>{o.value&&this.fotoServices.borrarfoto(e).subscribe(n=>{this.ImagenesUser(),u().fire("Fotografia Borrada"," fue eliminado correctamente","success"),this.router.navigateByUrl("/dashboard/aboutme")})})}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(f.i),t.Y36(Z),t.Y36(g.F0))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-aboutme"]],decls:35,vars:10,consts:[[1,"container","rounded","bg-white","mt-5","mb-5"],[1,"row"],[1,"col-md-3","border-right"],[1,"d-flex","flex-column","align-items-center","text-center","p-3","py-5"],["width","150px","src","https://st3.depositphotos.com/15648834/17930/v/600/depositphotos_179308454-stock-illustration-unknown-person-silhouette-glasses-profile.jpg",1,"rounded-circle","mt-5"],[1,"font-weight-bold"],[1,"text-black-50"],[1,"col","border-right"],[1,"p-3","py-5"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"text-right"],[1,"row","mt-2"],[1,"col-md-6"],[1,"labels"],["type","text","value","",1,"form-control",3,"placeholder"],[1,"d-flex","justify-content-between","align-items-center","experience","p-5"],["class","border px-3 p-1 add-experience","routerLink","/dashboard/cargarFotos",4,"ngIf"],[1,"textoMensaje"],["class","textoMensaje text-danger",4,"ngIf"],[1,"container","p-3"],["class","col",4,"ngFor","ngForOf"],["routerLink","/dashboard/cargarFotos",1,"border","px-3","p-1","add-experience"],[1,"fa","fa-plus"],[1,"textoMensaje","text-danger"],[1,"col"],[1,"card",2,"width","18rem"],["alt","...",1,"card-img-top",3,"src"],[1,"card-body"],[1,"card-title"],[1,"card-text"],["data-toggle","tooltip","data-original-title","Borrar",1,"cursor","btn","btn-danger","m-2",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t._UZ(4,"img",4),t.TgZ(5,"span",5),t._uU(6),t.qZA(),t.TgZ(7,"span",6),t._uU(8),t.qZA(),t._UZ(9,"span"),t.qZA(),t.qZA(),t.TgZ(10,"div",7),t.TgZ(11,"div",8),t.TgZ(12,"div",9),t.TgZ(13,"h4",10),t._uU(14,"Profile Settings"),t.qZA(),t.qZA(),t.TgZ(15,"div",11),t.TgZ(16,"div",12),t.TgZ(17,"label",13),t._uU(18,"Nombres"),t.qZA(),t._UZ(19,"input",14),t.qZA(),t.qZA(),t.TgZ(20,"div",15),t.TgZ(21,"span"),t._uU(22,"Mis Fotograf\xedas"),t.qZA(),t.YNc(23,k,3,0,"span",16),t.qZA(),t._UZ(24,"br"),t.TgZ(25,"p",17),t._uU(26," Solo se permiten dos "),t.TgZ(27,"em"),t._uU(28,"Fotografias"),t.qZA(),t._uU(29," por persona."),t.qZA(),t.YNc(30,P,5,0,"p",18),t.TgZ(31,"div",19),t.TgZ(32,"div",1),t.YNc(33,M,10,3,"div",20),t.ALo(34,"slice"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(6),t.Oqu(o.usuario.nombre),t.xp6(2),t.Oqu(o.usuario.email),t.xp6(11),t.s9C("placeholder",o.usuario.nombre),t.xp6(4),t.Q6J("ngIf",o.solo2),t.xp6(7),t.Q6J("ngIf",!o.solo2),t.xp6(3),t.Q6J("ngForOf",t.Dn7(34,6,o.Image2,0,2)))},directives:[l.O5,g.rH,l.sg],pipes:[l.OU],styles:["body[_ngcontent-%COMP%]{background:rgb(99,39,120)}.form-control[_ngcontent-%COMP%]:focus{box-shadow:none;border-color:#ba68c8}.profile-button[_ngcontent-%COMP%]{background:rgb(99,39,120);box-shadow:none;border:none}.profile-button[_ngcontent-%COMP%]:hover{background:#682773}.profile-button[_ngcontent-%COMP%]:focus{background:#682773;box-shadow:none}.profile-button[_ngcontent-%COMP%]:active{background:#682773;box-shadow:none}.back[_ngcontent-%COMP%]:hover{color:#682773;cursor:pointer}.labels[_ngcontent-%COMP%]{font-size:11px}.add-experience[_ngcontent-%COMP%]:hover{background:#BA68C8;color:#fff;cursor:pointer;border:solid 1px #BA68C8}.textoMensaje[_ngcontent-%COMP%]{font-size:16px}"]}),r})();function q(r,i,e,o,n,a,c){try{var h=r[a](c),m=h.value}catch(b){return void e(b)}h.done?i(m):Promise.resolve(m).then(o,n)}var N=d(2313);let $=(()=>{class r{constructor(e,o,n,a,c){var h=this;this.usuarioService=e,this.fb=o,this.fotoServices=n,this.sanitizer=a,this.router=c,this.cantidadPost=!0,this.cargando=!0,this.archivos=[],this.Image2=[],this.extraerBase64=function(){var m=function Y(r){return function(){var i=this,e=arguments;return new Promise(function(o,n){var a=r.apply(i,e);function c(m){q(a,o,n,c,h,"next",m)}function h(m){q(a,o,n,c,h,"throw",m)}c(void 0)})}}(function*(b){return new Promise((C,W)=>{try{const y=window.URL.createObjectURL(b),v=(h.sanitizer.bypassSecurityTrustUrl(y),new FileReader);v.readAsDataURL(b),v.onload=()=>{C({base:v.result})},v.onerror=et=>{C({base:null})}}catch(y){return null}})});return function(b){return m.apply(this,arguments)}}(),this.usuario=e.usuario}ngOnInit(){this.ImagenForm=this.fb.group({title:["",s.kI.required,s.kI.maxLength(50)],description:["",s.kI.required,s.kI.maxLength(258)],filename:["",s.kI.required],usuario:[this.usuario.uid]}),this.ImagenesUser()}capturarFile(e){const o=e.target.files[0];this.extraerBase64(o).then(n=>{this.previsualizacion=n.base}),this.archivos.push(o)}clearImage(){this.previsualizacion="",this.archivos=[]}subirArchivo(){const e=this.ImagenForm.value.title,o=this.ImagenForm.value.description;try{this.loading=!0;const a=new FormData;console.log(a),this.archivos.forEach(c=>{a.append("image",c),a.append("title",e),a.append("description",o)}),this.ImagenForm.markAllAsTouched(),this.fotoServices.post(a).subscribe(c=>{u().fire("Creado",`${e} creado correctamente`,"success"),this.router.navigateByUrl("/dashboard/aboutme")})}catch(a){this.loading=!1,console.log("ERROR",a)}}ImagenesUser(){this.cargando=!0,this.cantidadPost=!0,this.fotoServices.cargarpostId().subscribe(e=>{0==e.length&&(this.cantidadPost=!1),this.cargando=!1,this.Image2=e,console.log(e)})}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(f.i),t.Y36(s.qu),t.Y36(Z),t.Y36(N.H7),t.Y36(g.F0))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-cargarfotos"]],decls:39,vars:2,consts:[[1,"bg-primary-dark","position-relative","overflow-hidden","p-20"],[1,"container","content-space-2"],[1,"row","justify-content-center","align-items-lg-center"],[1,"col-md-8","col-lg-6","mb-7","mb-lg-0"],[1,"pe-lg-3","mb-7"],[1,"display-3","text-white","mb-3","mb-md-5"],[1,"text-danger"],["data-hs-typed-options",'{\n                      "strings": ["team.", "startup.", "business."],\n                      "typeSpeed": 90,\n                      "loop": true,\n                      "backSpeed": 30,\n                      "backDelay": 2500\n                    }',1,"js-typedjs"],[1,"lead","text-white-70","contenido"],[1,"row"],[1,"col-md-8","col-lg-6"],[1,"ps-lg-5"],[1,"card","card-lg"],[1,"card-body"],[1,"row","align-items-sm-center","mb-5"],[1,"col-sm-auto","order-sm-2","mb-3","mb-sm-0"],["src","./assets/img/logoVotaciones.png","alt","Image Description",1,"imagen"],[1,"col-sm"],[1,"card-title"],[1,"card-text"],[3,"formGroup","ngSubmit"],[1,"mb-4"],["for","Titulo",1,"form-label"],["type","text","name","title","formControlName","title","name","title","id","title","id","registerName","placeholder","Titulo de la imagen","aria-label","Type your name","required","","data-msg","Please enter your name.",1,"form-control","form-control-lg"],["for","descripcion",1,"form-label"],["type","text","formControlName","description","name","description","id","description","placeholder","Descrici\xf3n de la Imagen","aria-label","example@site.com","required","","data-msg","Please enter a valid email address.",1,"form-control","form-control-lg"],["id","file-input","formControlName","filename","name","filename","enctype","multipart/form-data","type","file",3,"change"],[1,"d-grid","gap-2"],["type","submit",1,"btn","btn-primary","m-3",3,"disabled"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"h1",5),t.TgZ(6,"span",6),t.TgZ(7,"span",7),t._uU(8,"Cargar Imagen."),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"p",8),t._uU(10,"Sube tus imagenes para participar el el consurso, recuerda que son maximo dos imagenes."),t.qZA(),t.qZA(),t._UZ(11,"div",9),t.qZA(),t.TgZ(12,"div",10),t.TgZ(13,"div",11),t.TgZ(14,"div",12),t.TgZ(15,"div",13),t.TgZ(16,"div",14),t.TgZ(17,"div",15),t._UZ(18,"img",16),t.qZA(),t.TgZ(19,"div",17),t.TgZ(20,"h5",18),t._uU(21,"Participa"),t.qZA(),t.TgZ(22,"p",19),t._uU(23,"Solo fotografias de la ciudad."),t.qZA(),t.qZA(),t.qZA(),t.TgZ(24,"form",20),t.NdJ("ngSubmit",function(){return o.subirArchivo()}),t.TgZ(25,"div",21),t.TgZ(26,"label",22),t._uU(27,"Titulo de la imagen"),t.qZA(),t._UZ(28,"input",23),t.qZA(),t.TgZ(29,"div",21),t.TgZ(30,"label",24),t._uU(31,"Describe la imagen"),t.qZA(),t._UZ(32,"input",25),t.qZA(),t.TgZ(33,"div",21),t.TgZ(34,"div"),t.TgZ(35,"input",26),t.NdJ("change",function(a){return o.capturarFile(a)}),t.qZA(),t.qZA(),t.TgZ(36,"div",27),t.TgZ(37,"button",28),t._uU(38,"Subir imagen"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(24),t.Q6J("formGroup",o.ImagenForm),t.xp6(13),t.Q6J("disabled",o.ImagenForm.invalid))},directives:[s._Y,s.JL,s.sg,s.Fj,s.JJ,s.u,s.Q7],styles:['.uploadPhotos[_ngcontent-%COMP%]{padding:200 20 20 20}.contenido[_ngcontent-%COMP%]{font-size:20px;font-family:"Roboto Serif",sans-serif}.menu[_ngcontent-%COMP%]{font-size:12px;font-family:"Roboto Serif",sans-serif}img[_ngcontent-%COMP%]{height:120px}']}),r})();function D(r,i){if(1&r&&(t.TgZ(0,"div",15),t._UZ(1,"img",16),t.TgZ(2,"span",17),t._uU(3),t.qZA(),t.TgZ(4,"span",18),t._uU(5),t.qZA(),t._UZ(6,"span"),t.qZA()),2&r){const e=i.$implicit;t.xp6(3),t.Oqu(e.usuario.nombre),t.xp6(2),t.Oqu(e.usuario.email)}}function J(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"div",19),t.TgZ(1,"div",20),t._UZ(2,"img",21),t.TgZ(3,"div",22),t.TgZ(4,"h5",23),t._uU(5),t.qZA(),t.TgZ(6,"p",24),t._uU(7),t.qZA(),t.TgZ(8,"button",25),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw().borrarFoto(a._id)}),t._uU(9," Borrar Imagen "),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&r){const e=i.$implicit;t.xp6(2),t.MGl("src","../assets/uploads/post/",e.filename,"",t.LSH),t.xp6(3),t.Oqu(e.title),t.xp6(2),t.Oqu(e.description)}}let L=(()=>{class r{constructor(e,o,n){this.usuarioService=e,this.fotoServices=o,this.router=n,this.cargando=!0,this.cantidadPost=!0,this.solo2=!0,this.Image2=[],this.Image3=[],this.usuario=e.usuario}ngOnInit(){}ImagenesUserId(e){this.cargando=!0,this.cantidadPost=!0,this.fotoServices.cargarpostById(e).subscribe(o=>{this.cargando=!1,this.Image3=o})}ImagenesUser(){this.cargando=!0,this.cantidadPost=!0,this.fotoServices.cargarpostId().subscribe(e=>{0==e.length?this.cantidadPost=!1:e.length>=2&&(this.solo2=!1),this.cargando=!1,this.Image2=e})}borrarFoto(e){u().fire({title:"\xbfBorrar Foto?",text:`Esta a punto de borrar a ${e}`,icon:"question",showCancelButton:!0,confirmButtonText:"Si, borrarlo"}).then(o=>{o.value&&this.fotoServices.borrarfoto(e).subscribe(n=>{this.ImagenesUser(),u().fire("Fotografia Borrada"," fue eliminado correctamente","success"),this.router.navigateByUrl("/dashboard/aboutme")})})}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(f.i),t.Y36(Z),t.Y36(g.F0))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-selecciones"]],inputs:{image:"image"},decls:22,vars:7,consts:[[1,"container","rounded","bg-white","mt-5","mb-5"],[1,"row"],[1,"col-md-3","border-right"],["class","d-flex flex-column align-items-center text-center p-3 py-5",4,"ngFor","ngForOf"],[1,"col","border-right"],[1,"p-3","py-5"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"text-right"],[1,"row","mt-2"],[1,"col-md-6"],[1,"labels"],["type","text","value","",1,"form-control",3,"placeholder"],[1,"d-flex","justify-content-between","align-items-center","experience","p-5"],[1,"container","p-3"],["class","col",4,"ngFor","ngForOf"],[1,"d-flex","flex-column","align-items-center","text-center","p-3","py-5"],["width","150px","src","https://st3.depositphotos.com/15648834/17930/v/600/depositphotos_179308454-stock-illustration-unknown-person-silhouette-glasses-profile.jpg",1,"rounded-circle","mt-5"],[1,"font-weight-bold"],[1,"text-black-50"],[1,"col"],[1,"card",2,"width","18rem"],["alt","...",1,"card-img-top",3,"src"],[1,"card-body"],[1,"card-title"],[1,"card-text"],["data-toggle","tooltip","data-original-title","Borrar",1,"cursor","btn","btn-danger","m-2",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.YNc(3,D,7,2,"div",3),t.qZA(),t.TgZ(4,"div",4),t.TgZ(5,"div",5),t.TgZ(6,"div",6),t.TgZ(7,"h4",7),t._uU(8,"Profile Settings"),t.qZA(),t.qZA(),t.TgZ(9,"div",8),t.TgZ(10,"div",9),t.TgZ(11,"label",10),t._uU(12,"Nombres"),t.qZA(),t._UZ(13,"input",11),t.qZA(),t.qZA(),t.TgZ(14,"div",12),t.TgZ(15,"span"),t._uU(16,"Fotograf\xedas"),t.qZA(),t.qZA(),t._UZ(17,"br"),t.TgZ(18,"div",13),t.TgZ(19,"div",1),t.YNc(20,J,10,3,"div",14),t.ALo(21,"slice"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(3),t.Q6J("ngForOf",o.Image3),t.xp6(10),t.s9C("placeholder",o.usuario.nombre),t.xp6(7),t.Q6J("ngForOf",t.Dn7(21,3,o.Image2,0,2)))},directives:[l.sg],pipes:[l.OU],styles:["body[_ngcontent-%COMP%]{background:rgb(99,39,120)}.form-control[_ngcontent-%COMP%]:focus{box-shadow:none;border-color:#ba68c8}.profile-button[_ngcontent-%COMP%]{background:rgb(99,39,120);box-shadow:none;border:none}.profile-button[_ngcontent-%COMP%]:hover{background:#682773}.profile-button[_ngcontent-%COMP%]:focus{background:#682773;box-shadow:none}.profile-button[_ngcontent-%COMP%]:active{background:#682773;box-shadow:none}.back[_ngcontent-%COMP%]:hover{color:#682773;cursor:pointer}.labels[_ngcontent-%COMP%]{font-size:11px}.add-experience[_ngcontent-%COMP%]:hover{background:#BA68C8;color:#fff;cursor:pointer;border:solid 1px #BA68C8}.textoMensaje[_ngcontent-%COMP%]{font-size:16px}"]}),r})(),j=(()=>{class r{constructor(e,o){this.usuarioService=e,this.router=o}canActivate(e,o){return"ADMIN_ROLE"===this.usuarioService.role||(this.router.navigateByUrl("/dashboard"),!1)}}return r.\u0275fac=function(e){return new(e||r)(t.LFG(f.i),t.LFG(g.F0))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const z=A.N.base_url;let G=(()=>{class r{constructor(e){this.http=e}get token(){return localStorage.getItem("token")||""}get headers(){return{headers:{"x-token":this.token}}}transformarImagenes(e){return e}buscarResultados(e,o){return this.http.get(`${z}/buscar/coleccion/${e}/${o}`,this.headers).pipe((0,_.U)(a=>"imagenes"===e?this.transformarImagenes(a.resultados):[]))}}return r.\u0275fac=function(e){return new(e||r)(t.LFG(T.eN))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function R(r,i){1&r&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",7),t.TgZ(3,"h4",8),t._uU(4,"Cargando"),t.qZA(),t._UZ(5,"i",9),t.TgZ(6,"p",10),t._uU(7,"Por favor espere"),t.qZA(),t.qZA(),t.qZA(),t.qZA())}function E(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"tbody"),t.TgZ(1,"tr"),t.TgZ(2,"td"),t._uU(3),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td",19),t.TgZ(9,"button",20),t._uU(10,"Ver fotos"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(11,"div",21),t.TgZ(12,"div",22),t.TgZ(13,"div",23),t.TgZ(14,"div",24),t.TgZ(15,"h5",25),t._uU(16),t.qZA(),t._UZ(17,"button",26),t.qZA(),t.TgZ(18,"div",27),t.TgZ(19,"div",28),t._UZ(20,"img",29),t.TgZ(21,"div",3),t.TgZ(22,"h5",11),t._uU(23),t.qZA(),t.TgZ(24,"p",30),t._uU(25),t.qZA(),t.TgZ(26,"button",31),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw(2).guardarCambios(a)}),t._uU(27,"Publicar"),t.qZA(),t.TgZ(28,"a",32),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw(2).borrarFoto(a._id)}),t._uU(29,"Eliminar foto"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(30,"div",33),t.TgZ(31,"button",34),t._uU(32,"Cerrar"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&r){const e=i.$implicit;t.xp6(3),t.Oqu(e.usuario.nombre),t.xp6(2),t.Oqu(e.usuario.email),t.xp6(2),t.Oqu(e.title),t.xp6(2),t.uIk("data-bs-target","#exampleModal"+e._id),t.xp6(2),t.MGl("id","exampleModal",e._id,""),t.xp6(5),t.Oqu(e.usuario.nombre),t.xp6(4),t.MGl("src","../assets/uploads/post/",e.filename,"",t.LSH),t.xp6(3),t.Oqu(e.title),t.xp6(2),t.hij("",e.description,".")}}function Q(r,i){if(1&r&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"h4",11),t._uU(5),t.qZA(),t.TgZ(6,"h6",12),t._uU(7,"Usuarios registrados en mi aplicaci\xf3n"),t.qZA(),t.TgZ(8,"div",13),t.TgZ(9,"table",14),t.TgZ(10,"thead"),t.TgZ(11,"tr"),t.TgZ(12,"th"),t._uU(13,"Nombre"),t.qZA(),t.TgZ(14,"th"),t._uU(15,"Correo"),t.qZA(),t.TgZ(16,"th",15),t._uU(17,"Imagenes"),t.qZA(),t.TgZ(18,"th",16),t._uU(19,"Acciones"),t.qZA(),t.qZA(),t.qZA(),t.YNc(20,E,33,9,"tbody",17),t.qZA(),t.qZA(),t.TgZ(21,"button",18),t._uU(22,"Anteriores"),t.qZA(),t._uU(23," \xa0 "),t.TgZ(24,"button",18),t._uU(25,"Siguientes"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&r){const e=t.oxw();t.xp6(5),t.hij("Total de usuarios (",e.totalUsuarios,")"),t.xp6(15),t.Q6J("ngForOf",e.Image2)}}const H=[{path:"",component:F,data:{titulo:"Home"}},{path:"contact",component:S,data:{titulo:"Contact"}},{path:"cargarFotos",component:$,data:{titulo:"Contact"}},{path:"aboutme",component:B,data:{titulo:"About me"}},{path:"administracion",component:(()=>{class r{constructor(e,o,n,a){this.usuarioService=e,this.fotoServices=o,this.busquedaService=n,this.router=a,this.myDate=new Date,this.cargando=!0,this.cantidadPost=!0,this.solo2=!0,this.Image2=[],this.Image3=[],this.totalUsuarios=0,this.usuarios=[],this.usuariosTemp=[],this.desde=0,this.usuario=e.usuario}ngOnInit(){this.ImagenesUser(),this.cargarUsuarios()}ImagenesUser(){this.cargando=!0,this.cantidadPost=!0,this.fotoServices.cargarImagenes().subscribe(e=>{0==e.length?this.cantidadPost=!1:e.length>=2&&(this.solo2=!1),console.log(e),this.cargando=!1,this.Image2=e})}cargarUsuarios(){this.cargando=!0,this.usuarioService.cargarUsuarios(this.desde).subscribe(({total:e,usuarios:o})=>{this.totalUsuarios=e,this.usuarios=o,this.usuariosTemp=o,this.cargando=!1})}cambiarPagina(e){this.desde+=e,this.desde<0?this.desde=0:this.desde>=this.totalUsuarios&&(this.desde-=e),this.cargarUsuarios()}buscarUser(e){this.fotoServices.cargarpostById(e._id).subscribe(o=>{console.log(o),this.cargando=!1,this.Image3=o})}guardarCambios(e){this.fotoServices.actualizarfoto(e._id,e.publicado).subscribe(o=>{u().fire({title:"\xbfAprobar foto?",text:`Esta a punto de publicar la fotografia de  ${e.usuario.nombre}`,icon:"question",showCancelButton:!0,confirmButtonText:"Si, publicar"}),this.cargando=!1,this.Image3=o})}borrarFoto(e){u().fire({title:"\xbfBorrar Foto?",text:`Esta a punto de borrar a ${e}`,icon:"question",showCancelButton:!0,confirmButtonText:"Si, borrarlo"}).then(o=>{o.value&&this.fotoServices.borrarfoto(e).subscribe(n=>{this.ImagenesUser(),u().fire("Fotografia Borrada"," fue eliminado correctamente","success"),this.router.navigateByUrl("/dashboard/aboutme")})})}buscar(e){if(0===e.length)return this.ImagenesUser();this.busquedaService.buscarResultados("imagenes",e).subscribe(o=>{this.Image2=o})}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(f.i),t.Y36(Z),t.Y36(G),t.Y36(g.F0))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-administracion"]],decls:9,vars:2,consts:[[1,"row","animated","fadeIn","fast"],[1,"col-12"],[1,"card"],[1,"card-body"],["type","text","placeholder","Buscar imagen por titulo",1,"form-control",3,"keyup"],["txtTermino",""],["class","row animated fadeIn fast",4,"ngIf"],[1,"alert","alert-info","text-center"],[1,"alert-heading"],[1,"fa","fa-spin","fa-refresh","fa-2x"],[1,"mb-0"],[1,"card-title"],[1,"card-subtitle"],[1,"table-responsive"],[1,"table","table-bordered"],[1,"w140"],[1,"text-nowrap","w100"],[4,"ngFor","ngForOf"],[1,"btn","btn-secondary"],[1,"text-nowrap","text-center"],["type","button","data-bs-toggle","modal",1,"btn","btn-success","m-2"],["tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",3,"id"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"card",2,"width","18rem"],["alt","...",1,"card-img-top",3,"src"],[1,"card-text"],["type","button",1,"btn","btn-primary","m-2",3,"click"],[1,"btn","btn-danger",3,"click"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"]],template:function(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"input",4,5),t.NdJ("keyup",function(){t.CHM(n);const c=t.MAs(5);return o.buscar(c.value)}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(6,R,8,0,"div",6),t.TgZ(7,"div"),t.YNc(8,Q,26,2,"div",6),t.qZA()}2&e&&(t.xp6(6),t.Q6J("ngIf",o.cargando),t.xp6(2),t.Q6J("ngIf",!o.cargando))},directives:[l.O5,l.sg],styles:[""]}),r})(),canActivate:[j]},{path:"selecciones/:id",component:L,data:{titulo:"Seleccion de Imagen"}}];let X=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[g.Bz.forChild(H)],g.Bz]}),r})()}}]);